<!DOCTYPE html>
<html lang="en" xmlns:ng="http://cloudkit.dev" id="ng-app" ng-app="cloudApp">
<head>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
	<title>CloudKit Module</title>
</head>
<body>
	<div ng-controller="MainController" class="container">
		<!-- Hello World! -->
		<!-- <div cloud-kit-auth></div> -->
		<!-- <div id="username"></div> -->
		<p>{{bookmarks.records.length}} /{{bookmarks.total}}</p>
		<div class="row">
			<div class="col-md-8">
				<div class="table-responsive">
					<table class="table table-bordered">
						<thead>
							<tr><th>Title</th><th>Title</th><th>Text</th><th>URL</th><th>Save</th></tr>
						</thead>
						<tbody>
							<tr ng-repeat="bookmark in bookmarks.records">
								<td>
									<a ng-href="{{bookmark.record.fields.url.value}}">{{bookmark.record.fields.title.value}}</a>
								</td>
								<td>
									<input placeholder="Title" class="form-control" ng-model="bookmark.record.fields.title.value">
								</td>
								<td>
									<a download="Text" ng-show="bookmark.record.fields.text.value.downloadURL" ng-href="{{bookmark.record.fields.text.value.downloadURL}}">Download File</a>
									<input ng-show="!bookmark.record.fields.text.value.downloadURL" type="file" placeholder="URL" class="form-control" ng-model="bookmark.record.fields.text" app-filereader>
								</td>
								<td>
									<input placeholder="URL" class="form-control" ng-model="bookmark.record.fields.url.value">
								</td>
								<td>
									<button class="btn btn-success" ng-click="bookmark.$save(sucCB,errCB)">Save</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<button class="btn btn-success btn-block"  ng-show="bookmarks.records.length < bookmarks.total" ng-click="bookmarks.$query()">Load More</button>
				<hr>
				<button class="btn btn-success btn-block" ng-click="saveAll()">Save All</button>
			</div>
			<div class="col-md-4">
				<form>
					<div class="form-group">
						<label></label>
						<input placeholder="Title" class="form-control" ng-model="newbookmark.fields.title.value">
					</div>
					<div class="form-group">
						<label></label>
						<input placeholder="URl" class="form-control" ng-model="newbookmark.fields.url.value">
					</div>
					<button class="btn btn-success" ng-click="addBookmark(newbookmark)">New Bookmark</button>
				</form>
			</div>
		</div>
		<!-- <ul>
			<li ng-repeat="page in pages">{{page}}</li>
		</ul> -->
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular-cookies.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	<script src="angular-cloud-kit.js"></script>
	<script src="app.js"></script>
</body>